<mat-card>
       <mat-card-header>
        <mat-card-title>Marks Entry Export</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="marksEntryFacultyFormGroup">
            <div class="row">
                <div class="col-md-3 col-6">
                    <ng-select placeholder="Session" formControlName="academic_session_id" appearance="outline">
                        <ng-container *ngFor="let server of acadmcSesnList">
                            <ng-option [value]="server.academic_session_id">{{ server.academic_session_name_e
                                }}</ng-option>
                        </ng-container>
                    </ng-select>
                </div>

                <div class="col-md-3 col-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Degree Programme</mat-label>
                        <mat-select placeholder="Degree Programme" formControlName="degree_programme_id"
                            (selectionChange)="onDegreeProgrammeChange($event.value)">
                            <mat-option *ngFor="let server of degreeProgramme" [value]="server.degree_programme_id">
                                {{ server.degree_programme_name_e }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-md-3 col-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Semester</mat-label>
                        <mat-select placeholder="Semester" formControlName="semester_id">
                            <mat-option *ngFor="let semester of semesterList" [value]="semester.semester_id">
                                {{ semester?.semester_name_e }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-md-3 col-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Exam Paper Type</mat-label>
                        <mat-select placeholder="Exam Paper Type"
                            (selectionChange)="onExamPaperTypeChange($event.value)">
                            <mat-option *ngFor="let server of getExamPaperTypeList" [value]="server">
                                {{ server.exam_paper_type_name_e }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                </div>
                <div class="col-md-2 ">
                    <button class="btn btn-primary" type="button" (click)="getDashboardData()">Get List</button>
                </div>
            </div>
            <div class="row mt-3">
             
            </div>
        </form>
    </mat-card-content>
</mat-card>

<app-reporttable [options]="optionsCourse">
    <ng-container class="card-header">Courses</ng-container>
    <ng-template #headerTemplate>
        <tr>
            <th>#</th>
            <th>Course Year</th>
            <th>Dean Committee</th>
            <th>Course Count</th>
            <th>Prepare Data</th>
            <th>Export</th>
            <th>Get Student</th>
        </tr>
    </ng-template>
    <ng-template #rowTemplate let-row let-i="index">
        <tr >
            <td>{{ i + 1 }}</td>
            <td>{{ row.course_year_name_e}}</td>
            <td>{{row.dean_committee_name_e}}</td>
            <td>{{ row.course_count }}</td>
            <td><button mat-mini-fab color="primary" (click)="onSubmit(row)"><mat-icon>login</mat-icon></button></td>
            <td><button mat-mini-fab color="primary" (click)="getStudentDataForExportFromTemp(row)"><mat-icon>cloud_download</mat-icon></button></td>
            <td><button mat-mini-fab color="primary" (click)="getStudentphoto(row)"><mat-icon>photo_auto_merge</mat-icon></button></td>
        </tr>
    </ng-template>
</app-reporttable>

<app-reporttable [options]="studentListoptions" *ngIf="studentList && studentList.length > 0">
    <ng-container class="card-header">Student List For Export</ng-container>
    <ng-template #headerTemplate>
        <tr>
            <th>#</th>
            <th>export_batch_id</th>
            <th>admission_session</th>
            <th>registration_id</th>
            <th>course_year_id</th>
            <th>dean_committee_id</th>
            <th>academic_session_id</th>
            <th>course_id</th>
            <th>ue_id</th>
            <th>college_id</th>
            <th>student_master_id</th>
            <th>degree_programme_id</th>
            <th>semester_id</th>
            <th>section_id</th>
            <th>exam_type_id</th>
            <th>registration_status_id</th>
            <th>course_registration_type_id</th>
            <th>course_nature_id</th>
            <th>remark_id</th>
            <th>max_marks_internal</th>
            <th>max_marks_external</th>
            <th>special_remark_id</th>
            <th>final_marks</th>
            <th>exam_paper_type_id</th>
        </tr>
    </ng-template>
    <ng-template #rowTemplate let-row let-i="index">
        <tr >
            <td>{{ i + 1 }}</td>
            <td>{{ row.export_batch_id }}</td>
            <td>{{ row.admission_session }}</td>
            <td>{{ row.registration_id }}</td>
            <td>{{ row.course_year_id }}</td>
            <td>{{ row.dean_committee_id }}</td>
            <td>{{ row.academic_session_id }}</td>
            <td>{{ row.course_id }}</td>
            <td>{{ row.ue_id }}</td>
            <td>{{ row.college_id }}</td>
            <td>{{ row.student_master_id }}</td>
            <td>{{ row.degree_programme_id }}</td>
            <td>{{ row.semester_id }}</td>
            <td>{{ row.section_id }}</td>
            <td>{{ row.exam_type_id }}</td>
            <td>{{ row.registration_status_id }}</td>
            <td>{{ row.course_registration_type_id }}</td>
            <td>{{ row.course_nature_id }}</td>
            <td>{{ row.remark_id }}</td>
            <td>{{ row.max_marks_internal }}</td>
            <td>{{ row.max_marks_external }}</td>
            <td>{{ row.special_remark_id }}</td>
            <td>{{ row.final_marks }}</td>
            <td>{{ row.exam_paper_type_id }}</td>
        </tr>
    </ng-template>
</app-reporttable>

<app-reporttable [options]="studentPhotoListoptions" *ngIf="studentPhotList && studentPhotList.length > 0">
    <ng-container class="card-header">Student Image Export</ng-container>
    <ng-template #headerTemplate>
        <tr>
            <th>#</th>
            <th>UE ID</th>
            <th>Photo</th>
        </tr>
    </ng-template>
    <ng-template #rowTemplate let-row let-i="index">
        <tr >
            <td>{{ i + 1 }}</td>
            <td>{{ row.ue_id }}</td>
            <td>
                <img src="https://igkv.ac.in/{{ row.student_photo_path }}" alt="" height="20px">
            </td>
        </tr>
    </ng-template>
</app-reporttable>


