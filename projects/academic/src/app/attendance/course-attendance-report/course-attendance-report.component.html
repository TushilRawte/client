<mat-card class="attendance-main">
  <mat-card-content>
    <h3 class="fw-bold page-title mb-4">Course Attendance Report</h3>
    <form [formGroup]="courseAttendanceReportFormGroup">
      <div formGroupName="selection" class="row">
        <div class="col-md-4 col-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Session</mat-label>
            <mat-select placeholder="Session" formControlName="academic_session_id">
              <mat-option *ngFor="let server of state.acadmcSesnList" [value]="server.academic_session_id">
                {{ server.academic_session_name_e }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-md-4 col-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Semester</mat-label>
            <mat-select placeholder="Semester" formControlName="semester_id">
              <mat-option *ngFor="let semester of state.semesterList" [value]="semester.semester_id">
                {{ semester.semester_name_e }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-md-4 col-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Degree Programme Type</mat-label>
            <mat-select placeholder="Degree Programme Type" formControlName="degree_programme_type_id">
              <mat-option *ngFor="let degreeProgramme of state.degreeProgrammeTypeList"
                [value]="degreeProgramme.degree_programme_type_id">
                {{ degreeProgramme.degree_programme_type_name_e }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-md-8 col-12">
          <ng-select placeholder="College Name" formControlName="college_id" appearance="outline">
            <ng-container *ngFor="let college of state.collegeList">
              <ng-option [value]="college.college_id">
                {{ college.college_name_e}}
              </ng-option>
            </ng-container>
          </ng-select>
        </div>

        <div class="col-12 mt-md-3 d-flex justify-content-center">
          <div>
            <button mat-raised-button color="primary" (click)="getDetails_click()">
              Get Details
            </button>
          </div>
        </div>

      </div>
    </form>
  </mat-card-content>
</mat-card>

<div *ngIf="state.matrixList && state.matrixList.length > 0" class="mt-3 mb-3">
  <app-reporttable [options]="matrixTableOptions">
    <ng-template #headerTemplate>
      <tr>
        <th>S.No.</th>
        <th>Course Year</th>
        <th>Exam Type</th>
        <th>Course Nature</th>
        <th>Dean Committee</th>
        <th class="d-print-none">Get Courses</th>
      </tr>
    </ng-template>
    <ng-template #rowTemplate let-row let-i="index">
      <tr>
        <td>{{i+1}}</td>
        <td>{{ row.course_year_name_e }}</td>
        <td>{{ row.exam_type_name_e }}</td>
        <td>{{ row.course_nature_name_e }}</td>
        <td>{{ row.dean_committee_name_e }}</td>
        <td class="d-print-none cursor-pointer">
          <mat-icon (click)="getCourses_btn(row)" class="text-success">
            assignment
          </mat-icon>
        </td>
      </tr>
    </ng-template>
  </app-reporttable>
</div>

<mat-card *ngIf="state.courseList && state.courseList.length > 0">
  <div *ngIf="state.courseList && state.courseList.length > 0" class="mt-3 bg-white">
    <app-reporttable [options]="courseListOption">
      <ng-template #headerTemplate>
        <tr>
          <th>S.No.</th>
          <th class="text-start">Course Name</th>
          <th class="d-print-none">Get Reports</th>
        </tr>
      </ng-template>
      <ng-template #rowTemplate let-row let-i="index">
        <tr>
          <!-- <td>{{ (options?.page * options?.pageSize) + i + 1 }}</td> -->
          <td>{{i + 1}} </td>
          <td class="text-start">{{ row.course_name }}</td>
          <th class="d-print-none cursor-pointer">
            <mat-icon (click)="getPdfReport_btn(row)" class="text-danger">
              picture_as_pdf
            </mat-icon>
          </th>
        </tr>
      </ng-template>
    </app-reporttable>
  </div>
</mat-card>



<!-- <div *ngIf="matrixList && matrixList.length > 0" class="mt-3">
    <table class="row-border hover">
        <thead>
            <tr>
                <th>Course Year</th>
                <th>Exam Type</th>
                <th>Course Nature</th>
                <th>Dean Committee</th>
                <th>Get Courses</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of matrixList">
                <td>{{ item.course_year_name_e }}</td>
                <td>{{ item.exam_type_name_e }}</td>
                <td>{{ item.course_nature_name_e }}</td>
                <td>{{ item.dean_committee_name_e }}</td>
                <th>
                    <mat-icon (click)="getCourses_btn(item)" class="text-success">
                        assignment
                    </mat-icon>
                </th>
            </tr>
        </tbody>
    </table>
</div> -->


<!-- <mat-card class="attendance-main">
    <div *ngIf="courseList && courseList.length > 0" class="mt-3 bg-white">
        <table class="row-border hover">
            <thead>
                <tr>
                    <th>S.No.</th>
                    <th class="text-start">Course Name</th>
                    <th>Get Reports</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let course of courseList; let i = index">
                    <td>{{ i +1}}</td>
                    <td class="text-start">{{ course.course_name }}</td>
                    <th>
                        <mat-icon (click)="getPdfReport_btn(course)" class="text-danger">
                            picture_as_pdf
                        </mat-icon>
                    </th>
                </tr>
            </tbody>
        </table>
    </div>
</mat-card> -->